{"version":3,"sources":["server/service/emailApi.js"],"names":["EmailTemplate","require","registerDir","resolve","__dirname","register","join","endtripDir","endTrip","forgotDir","forgot","rideAcceptDir","rideAccept","emailDir","emailVerify","getEmailApiDetails","Promise","reject","findOneAsync","key","then","foundDetails","value","catch","err","sendEmail","userId","responseObj","type","_id","userObj","details","transporter","createTransport","host","port","secure","auth","user","username","pass","password","locals","Object","assign","data","render","results","console","error","mailOptions","from","to","email","subject","text","html","sendMail","info","log"],"mappings":";;;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,gBAAgBC,QAAQ,iBAAR,EAA2BD,aAAjD,C,CAPA;;;AASA,IAAME,cAAc,eAAKC,OAAL,CAAaC,SAAb,EAAwB,cAAxB,EAAwC,UAAxC,CAApB;AACA,IAAMC,WAAW,IAAIL,aAAJ,CAAkB,eAAKM,IAAL,CAAUJ,WAAV,CAAlB,CAAjB;;AAEA,IAAMK,aAAa,eAAKJ,OAAL,CAAaC,SAAb,EAAwB,cAAxB,EAAwC,SAAxC,CAAnB;AACA,IAAMI,UAAU,IAAIR,aAAJ,CAAkB,eAAKM,IAAL,CAAUC,UAAV,CAAlB,CAAhB;;AAEA,IAAME,YAAY,eAAKN,OAAL,CAAaC,SAAb,EAAwB,cAAxB,EAAwC,gBAAxC,CAAlB;AACA,IAAMM,SAAS,IAAIV,aAAJ,CAAkB,eAAKM,IAAL,CAAUG,SAAV,CAAlB,CAAf;;AAEA,IAAME,gBAAgB,eAAKR,OAAL,CAAaC,SAAb,EAAwB,cAAxB,EAAwC,YAAxC,CAAtB;AACA,IAAMQ,aAAa,IAAIZ,aAAJ,CAAkB,eAAKM,IAAL,CAAUK,aAAV,CAAlB,CAAnB;;AAEA,IAAME,WAAW,eAAKV,OAAL,CAAaC,SAAb,EAAwB,cAAxB,EAAwC,aAAxC,CAAjB;AACA,IAAMU,cAAc,IAAId,aAAJ,CAAkB,eAAKM,IAAL,CAAUO,QAAV,CAAlB,CAApB;;AAEA,SAASE,kBAAT,GAA8B;AAC5B,SAAO,IAAIC,OAAJ,CAAY,UAACb,OAAD,EAAUc,MAAV,EAAqB;AACtC,2BAAaC,YAAb,CAA0B,EAAEC,KAAK,aAAP,EAA1B,EACGC,IADH,CACQ,UAACC,YAAD,EAAkB;AACtBlB,cAAQkB,aAAaC,KAArB;AACD,KAHH,EAIGC,KAJH,CAIS,UAACC,GAAD,EAAS;AACdP,aAAOO,GAAP;AACD,KANH;AAOD,GARM,CAAP;AASD;;AAED,SAASC,SAAT,CAAmBC,MAAnB,EAA2BC,WAA3B,EAAwCC,IAAxC,EAA8C;AAC5C,iBAAWV,YAAX,CAAwB,EAAEW,KAAKH,MAAP,EAAxB,EAAyCN,IAAzC,CAA8C,UAACU,OAAD,EAAa;AACzDf,yBAAqBK,IAArB,CAA0B,UAACW,OAAD,EAAa;AACrC,UAAMC,cAAc,qBAAWC,eAAX,CAClB,uCAAc;AACZC,cAAMH,QAAQG,IADF;AAEZC,cAAMJ,QAAQI,IAFF;AAGZC,gBAAQL,QAAQK,MAHJ,EAGY;AACxBC,cAAM;AACJC,gBAAMP,QAAQQ,QADV;AAEJC,gBAAMT,QAAQU;AAFV;AAJM,OAAd,CADkB,CAApB;AAWA,UAAMC,SAASC,OAAOC,MAAP,CAAc,EAAd,EAAkB,EAAEC,MAAMlB,WAAR,EAAlB,CAAf;;AAEA,UAAIC,SAAS,aAAb,EAA4B;AAC1Bd,oBAAYgC,MAAZ,CAAmBJ,MAAnB,EAA2B,UAAClB,GAAD,EAAMuB,OAAN,EAAkB;AAAE;AAC7C,cAAIvB,GAAJ,EAAS;AACP,mBAAOwB,QAAQC,KAAR,CAAczB,GAAd,CAAP,CADO,CACoB;AAC5B;AACD,cAAM0B,cAAc;AAClBC,kBAAMpB,QAAQQ,QADI,EACM;AACxBa,gBAAItB,QAAQuB,KAFM,EAEC;AACnBC,qBAAS,wCAHS,EAGiC;AACnDC,kBAAMR,QAAQQ,IAJI,EAIE;AACpBC,kBAAMT,QAAQS,IALI,CAKC;AALD,WAApB;AAOAxB,sBAAYyB,QAAZ,CAAqBP,WAArB,EAAkC,UAACD,KAAD,EAAQS,IAAR,EAAiB;AACjD,gBAAIT,KAAJ,EAAW;AACTD,sBAAQW,GAAR,CAAY,mBAAZ,EAAiCV,KAAjC;AACA,qBAAOA,KAAP;AACD;AACDD,oBAAQW,GAAR,CAAY,oBAAZ,EAAkCD,IAAlC;AACA,mBAAOA,IAAP;AACD,WAPD;AAQD,SAnBD;AAoBD;;AAED,UAAI9B,SAAS,UAAb,EAAyB;AACvBvB,iBAASyC,MAAT,CAAgBJ,MAAhB,EAAwB,UAAClB,GAAD,EAAMuB,OAAN,EAAkB;AAAE;AAC1C,cAAIvB,GAAJ,EAAS;AACP,mBAAOwB,QAAQC,KAAR,CAAczB,GAAd,CAAP,CADO,CACoB;AAC5B;AACD,cAAM0B,cAAc;AAClBC,kBAAMpB,QAAQQ,QADI,EACM;AACxBa,gBAAItB,QAAQuB,KAFM,EAEC;AACnBC,qBAAS,4CAHS,EAGqC;AACvDC,kBAAMR,QAAQQ,IAJI,EAIE;AACpBC,kBAAMT,QAAQS,IALI,CAKC;AALD,WAApB;AAOAxB,sBAAYyB,QAAZ,CAAqBP,WAArB,EAAkC,UAACD,KAAD,EAAQS,IAAR,EAAiB;AACjD,gBAAIT,KAAJ,EAAW;AACTD,sBAAQW,GAAR,CAAY,mBAAZ,EAAiCV,KAAjC;AACA,qBAAOA,KAAP;AACD;AACDD,oBAAQW,GAAR,CAAY,oBAAZ,EAAkCD,IAAlC;AACA,mBAAOA,IAAP;AACD,WAPD;AAQD,SAnBD;AAoBD;AACD,UAAI9B,SAAS,SAAb,EAAwB;AACtBpB,gBAAQsC,MAAR,CAAeJ,MAAf,EAAuB,UAAClB,GAAD,EAAMuB,OAAN,EAAkB;AACvC,cAAIvB,GAAJ,EAAS;AACP,mBAAOwB,QAAQC,KAAR,CAAczB,GAAd,CAAP;AACD;AACD,cAAM0B,cAAc;AAClBC,kBAAMpB,QAAQQ,QADI,EACM;AACxBa,gBAAItB,QAAQuB,KAFM,EAEC;AACnBC,qBAAS,iCAHS,EAG0B;AAC5CC,kBAAMR,QAAQQ,IAJI,EAIE;AACpBC,kBAAMT,QAAQS,IALI,CAKC;AALD,WAApB;AAOAxB,sBAAYyB,QAAZ,CAAqBP,WAArB,EAAkC,UAACD,KAAD,EAAQS,IAAR,EAAiB;AACjD,gBAAIT,KAAJ,EAAW;AACTD,sBAAQW,GAAR,CAAY,mBAAZ,EAAiCV,KAAjC;AACA,qBAAOA,KAAP;AACD;AACDD,oBAAQW,GAAR,CAAY,oBAAZ,EAAkCD,IAAlC;AACA,mBAAOA,IAAP;AACD,WAPD;AAQD,SAnBD;AAoBD;AACD,UAAI9B,SAAS,QAAb,EAAuB;AACrBlB,eAAOoC,MAAP,CAAcJ,MAAd,EAAsB,UAAClB,GAAD,EAAMuB,OAAN,EAAkB;AACtC,cAAIvB,GAAJ,EAAS;AACP,mBAAOwB,QAAQC,KAAR,CAAczB,GAAd,CAAP;AACD;AACD,cAAM0B,cAAc;AAClBC,kBAAMpB,QAAQQ,QADI,EACM;AACxBa,gBAAItB,QAAQuB,KAFM,EAEC;AACnBC,qBAAS,0CAHS,EAGmC;AACrDC,kBAAMR,QAAQQ,IAJI,EAIE;AACpBC,kBAAMT,QAAQS,IALI,CAKC;AALD,WAApB;AAOAxB,sBAAYyB,QAAZ,CAAqBP,WAArB,EAAkC,UAACD,KAAD,EAAQS,IAAR,EAAiB;AACjD,gBAAIT,KAAJ,EAAW;AACTD,sBAAQW,GAAR,CAAY,mBAAZ,EAAiCV,KAAjC;AACA,qBAAOA,KAAP;AACD;AACDD,oBAAQW,GAAR,CAAY,oBAAZ,EAAkCD,IAAlC;AACA,mBAAOA,IAAP;AACD,WAPD;AAQD,SAnBD;AAoBD;AACD,UAAI9B,SAAS,YAAb,EAA2B;AACzBhB,mBAAWkC,MAAX,CAAkBJ,MAAlB,EAA0B,UAAClB,GAAD,EAAMuB,OAAN,EAAkB;AAC1C,cAAIvB,GAAJ,EAAS;AACP,mBAAOwB,QAAQC,KAAR,CAAczB,GAAd,CAAP;AACD;AACD,cAAM0B,cAAc;AAClBC,kBAAMpB,QAAQQ,QADI,EACM;AACxBa,gBAAItB,QAAQuB,KAFM,EAEC;AACnBC,qBAAS,8BAHS,EAGuB;AACzCC,kBAAMR,QAAQQ,IAJI,EAIE;AACpBC,kBAAMT,QAAQS,IALI,CAKC;AALD,WAApB;AAOAxB,sBAAYyB,QAAZ,CAAqBP,WAArB,EAAkC,UAACD,KAAD,EAAQS,IAAR,EAAiB;AACjD,gBAAIT,KAAJ,EAAW;AACTD,sBAAQW,GAAR,CAAY,mBAAZ,EAAiCV,KAAjC;AACA,qBAAOA,KAAP;AACD;AACDD,oBAAQW,GAAR,CAAY,oBAAZ,EAAkCD,IAAlC;AACA,mBAAOA,IAAP;AACD,WAPD;AAQD,SAnBD;AAoBD;AACF,KA7HD;AA8HD,GA/HD;AAgID;kBACcjC,S","file":"emailApi.js","sourceRoot":"../../../../.."}