{"version":3,"sources":["server/service/emailApi.js"],"names":["EmailTemplate","require","registerDir","path","resolve","__dirname","register","join","endtripDir","endTrip","forgotDir","forgot","rideAcceptDir","rideAccept","emailDir","emailVerify","getEmailApiDetails","Promise","reject","ServerConfig","findOneAsync","key","then","foundDetails","value","catch","err","sendEmail","userId","responseObj","type","UserSchema","_id","userObj","details","transporter","nodemailer","createTransport","host","port","secure","auth","user","username","pass","password","locals","Object","assign","data","render","results","console","error","mailOptions","from","to","email","subject","text","html","sendMail","info","log"],"mappings":"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","file":"emailApi.js","sourceRoot":"../../../../.."}