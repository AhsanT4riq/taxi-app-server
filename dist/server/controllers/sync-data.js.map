{"version":3,"sources":["server/controllers/sync-data.js"],"names":["getSyncData","req","res","next","currTripId","user","currTripState","returnObj","success","message","data","tripRequest","trip","undefined","send","TripRequestSchema","findOneAsync","$and","_id","$or","tripRequestStatus","then","tripRequestObj","transformedTripRequestObj","error","e","err","APIError","httpStatus","INTERNAL_SERVER_ERROR","TripSchema","tripStatus","tripObj","transformedTripObj"],"mappings":"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","file":"sync-data.js","sourceRoot":"../../../../.."}